{"ast":null,"code":"import api from '../utils/api';\nimport { setAlert } from '../actions/alert';\nimport { resetall } from '../actions/status';\nimport { ALL_PHONES, REPORT_IT, UNREPORT_IT, FAIL } from './types';\nexport const adddevice = data => async dispatch => {\n  try {\n    const res = await api.post('/user/add', data);\n    if (res.data.err) {\n      dispatch(setAlert('Device Exists', 'danger'));\n    } else {\n      dispatch(resetall('Added Succesfully ', 'success', 'ADD_IT'));\n    }\n  } catch (err) {\n    console.error(err.message);\n    dispatch({\n      type: FAIL\n    });\n  }\n};\nexport const getallphones = () => async dispatch => {\n  try {\n    const res = await api.get('/user');\n    dispatch({\n      type: ALL_PHONES,\n      payload: res.data\n    });\n  } catch (err) {\n    console.error(err);\n    dispatch({\n      type: FAIL\n    });\n  }\n};\nexport const updatedevice = data => async dispatch => {\n  try {\n    const res = await api.post('/user/update', data);\n    if (res.data) {\n      dispatch(resetall('Updated Succesfully ', 'success', 'UPDATE_IT'));\n    }\n  } catch (err) {\n    console.log(err);\n    dispatch({\n      type: FAIL\n    });\n  }\n};\nexport const deletedevice = data => async dispatch => {\n  try {\n    const res = await api.post('/user/deletedevice', data);\n    if (res.data) {\n      dispatch(resetall('Deleted Successfully ', 'success', 'DELETE_IT'));\n    }\n  } catch (err) {\n    console.error(err);\n    dispatch({\n      type: FAIL\n    });\n  }\n};\nexport const getreports = _id => async dispatch => {\n  const data = {\n    _id\n  };\n  try {\n    const res = await api.post('/user/getreports', data);\n    dispatch({\n      type: REPORT_IT,\n      payload: res.data\n    });\n  } catch (err) {\n    console.error(err);\n    dispatch({\n      type: FAIL\n    });\n  }\n};\nexport const addreport = (_id, x, token, name, proname) => async dispatch => {\n  const body = {\n    _id,\n    x,\n    token,\n    name,\n    proname\n  };\n  try {\n    const res = await api.post('/user/reportdevice', body);\n    if (res.data) {\n      dispatch(resetall('Received Report User/Admin will look into it', 'success', 'REPORT'));\n    }\n  } catch (err) {\n    console.error(err);\n    dispatch({\n      type: FAIL\n    });\n  }\n};\nexport const unmountit = () => async dispatch => {\n  dispatch({\n    type: UNREPORT_IT\n  });\n};\nexport const updatestatus = (_id, reportid, type) => async dispatch => {\n  const body = {\n    _id,\n    reportid,\n    type\n  };\n  try {\n    const res = await api.post('/user/updatestatus', body);\n    if (res.data.msg === \"Done\") {\n      dispatch({\n        type: UNREPORT_IT\n      });\n      dispatch(getreports(_id));\n    }\n  } catch (err) {\n    console.error(err);\n    dispatch({\n      type: FAIL\n    });\n  }\n};\nexport const deletereport = (phoneid, reportid) => async dispatch => {\n  const body = {\n    phoneid,\n    reportid\n  };\n  try {\n    const res = await api.post('/user/deletereport', body);\n    if (res.data.msg === \"Done\") {\n      dispatch(getallphones());\n    }\n  } catch (err) {\n    console.error(err);\n    dispatch({\n      type: FAIL\n    });\n  }\n};","map":{"version":3,"names":["api","setAlert","resetall","ALL_PHONES","REPORT_IT","UNREPORT_IT","FAIL","adddevice","data","dispatch","res","post","err","console","error","message","type","getallphones","get","payload","updatedevice","log","deletedevice","getreports","_id","addreport","x","token","name","proname","body","unmountit","updatestatus","reportid","msg","deletereport","phoneid"],"sources":["C:/Users/Srinivas/OneDrive/Desktop/Projects/Phone-Comparor/frontend/src/actions/phone.js"],"sourcesContent":["import api from '../utils/api';\r\nimport { setAlert } from '../actions/alert';\r\nimport { resetall } from '../actions/status';\r\nimport { ALL_PHONES, REPORT_IT, UNREPORT_IT,FAIL } from './types';\r\n\r\nexport const adddevice = data => async dispatch => {\r\n  try {\r\n    const res = await api.post('/user/add', data);\r\n    if (res.data.err) {\r\n      dispatch(setAlert('Device Exists', 'danger'));\r\n    }\r\n    else {\r\n      dispatch(resetall('Added Succesfully ', 'success', 'ADD_IT'));\r\n    }\r\n  } catch (err) {\r\n    console.error(err.message);\r\n    dispatch({\r\n      type: FAIL\r\n    });\r\n  }\r\n}\r\n\r\n\r\nexport const getallphones = () => async dispatch => {\r\n  try {\r\n    const res = await api.get('/user');\r\n    dispatch({\r\n      type: ALL_PHONES,\r\n      payload: res.data\r\n    });\r\n  }\r\n  catch (err) {\r\n    console.error(err);\r\n    dispatch({\r\n      type: FAIL\r\n    });\r\n  }\r\n}\r\n\r\nexport const updatedevice = data => async dispatch => {\r\n  try {\r\n    const res = await api.post('/user/update', data);\r\n    if (res.data) {\r\n      dispatch(resetall('Updated Succesfully ', 'success', 'UPDATE_IT'));\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch({\r\n      type: FAIL\r\n    });\r\n  }\r\n}\r\n\r\nexport const deletedevice = data => async dispatch => {\r\n  try {\r\n    const res = await api.post('/user/deletedevice', data);\r\n    if (res.data) {\r\n      dispatch(resetall('Deleted Successfully ', 'success', 'DELETE_IT'))\r\n    }\r\n  }\r\n  catch (err) {\r\n    console.error(err);\r\n    dispatch({\r\n      type: FAIL\r\n    });\r\n  }\r\n}\r\n\r\nexport const getreports = (_id) => async dispatch => {\r\n  const data = { _id }\r\n  try {\r\n    const res = await api.post('/user/getreports', data);\r\n    dispatch({\r\n      type: REPORT_IT,\r\n      payload: res.data\r\n    });\r\n  }\r\n  catch (err) {\r\n    console.error(err);\r\n    dispatch({\r\n      type: FAIL\r\n    });\r\n  }\r\n}\r\n\r\nexport const addreport = (_id, x, token, name, proname) => async dispatch => {\r\n  const body = { _id, x, token, name, proname }\r\n  try {\r\n    const res = await api.post('/user/reportdevice', body);\r\n    if (res.data) {\r\n      dispatch(resetall('Received Report User/Admin will look into it', 'success', 'REPORT'))\r\n    }\r\n  }\r\n  catch (err) {\r\n    console.error(err);\r\n    dispatch({\r\n      type : FAIL\r\n    });\r\n  }\r\n}\r\n\r\nexport const unmountit = () => async dispatch => {\r\n  dispatch({ type: UNREPORT_IT });\r\n}\r\n\r\nexport const updatestatus = (_id, reportid, type) => async dispatch => {\r\n  const body = { _id, reportid, type }\r\n  try {\r\n    const res = await api.post('/user/updatestatus', body);\r\n    if (res.data.msg === \"Done\") {\r\n      dispatch({\r\n        type: UNREPORT_IT\r\n      });\r\n      dispatch(getreports(_id));\r\n    }\r\n  }\r\n  catch (err) {\r\n    console.error(err);\r\n    dispatch({\r\n      type: FAIL\r\n    });\r\n  }\r\n}\r\n\r\nexport const deletereport = (phoneid, reportid) => async dispatch => {\r\n  const body = { phoneid, reportid }\r\n  try {\r\n    const res = await api.post('/user/deletereport', body);\r\n    if (res.data.msg === \"Done\") {\r\n      dispatch(getallphones());\r\n    }\r\n  }\r\n  catch (err) {\r\n    console.error(err);\r\n    dispatch({\r\n      type: FAIL\r\n    });\r\n  }\r\n}"],"mappings":"AAAA,OAAOA,GAAG,MAAM,cAAc;AAC9B,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,QAAQ,QAAQ,mBAAmB;AAC5C,SAASC,UAAU,EAAEC,SAAS,EAAEC,WAAW,EAACC,IAAI,QAAQ,SAAS;AAEjE,OAAO,MAAMC,SAAS,GAAGC,IAAI,IAAI,MAAMC,QAAQ,IAAI;EACjD,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMV,GAAG,CAACW,IAAI,CAAC,WAAW,EAAEH,IAAI,CAAC;IAC7C,IAAIE,GAAG,CAACF,IAAI,CAACI,GAAG,EAAE;MAChBH,QAAQ,CAACR,QAAQ,CAAC,eAAe,EAAE,QAAQ,CAAC,CAAC;IAC/C,CAAC,MACI;MACHQ,QAAQ,CAACP,QAAQ,CAAC,oBAAoB,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;IAC/D;EACF,CAAC,CAAC,OAAOU,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAACG,OAAO,CAAC;IAC1BN,QAAQ,CAAC;MACPO,IAAI,EAAEV;IACR,CAAC,CAAC;EACJ;AACF,CAAC;AAGD,OAAO,MAAMW,YAAY,GAAGA,CAAA,KAAM,MAAMR,QAAQ,IAAI;EAClD,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMV,GAAG,CAACkB,GAAG,CAAC,OAAO,CAAC;IAClCT,QAAQ,CAAC;MACPO,IAAI,EAAEb,UAAU;MAChBgB,OAAO,EAAET,GAAG,CAACF;IACf,CAAC,CAAC;EACJ,CAAC,CACD,OAAOI,GAAG,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IAClBH,QAAQ,CAAC;MACPO,IAAI,EAAEV;IACR,CAAC,CAAC;EACJ;AACF,CAAC;AAED,OAAO,MAAMc,YAAY,GAAGZ,IAAI,IAAI,MAAMC,QAAQ,IAAI;EACpD,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMV,GAAG,CAACW,IAAI,CAAC,cAAc,EAAEH,IAAI,CAAC;IAChD,IAAIE,GAAG,CAACF,IAAI,EAAE;MACZC,QAAQ,CAACP,QAAQ,CAAC,sBAAsB,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;IACpE;EACF,CAAC,CAAC,OAAOU,GAAG,EAAE;IACZC,OAAO,CAACQ,GAAG,CAACT,GAAG,CAAC;IAChBH,QAAQ,CAAC;MACPO,IAAI,EAAEV;IACR,CAAC,CAAC;EACJ;AACF,CAAC;AAED,OAAO,MAAMgB,YAAY,GAAGd,IAAI,IAAI,MAAMC,QAAQ,IAAI;EACpD,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMV,GAAG,CAACW,IAAI,CAAC,oBAAoB,EAAEH,IAAI,CAAC;IACtD,IAAIE,GAAG,CAACF,IAAI,EAAE;MACZC,QAAQ,CAACP,QAAQ,CAAC,uBAAuB,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;IACrE;EACF,CAAC,CACD,OAAOU,GAAG,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IAClBH,QAAQ,CAAC;MACPO,IAAI,EAAEV;IACR,CAAC,CAAC;EACJ;AACF,CAAC;AAED,OAAO,MAAMiB,UAAU,GAAIC,GAAG,IAAK,MAAMf,QAAQ,IAAI;EACnD,MAAMD,IAAI,GAAG;IAAEgB;EAAI,CAAC;EACpB,IAAI;IACF,MAAMd,GAAG,GAAG,MAAMV,GAAG,CAACW,IAAI,CAAC,kBAAkB,EAAEH,IAAI,CAAC;IACpDC,QAAQ,CAAC;MACPO,IAAI,EAAEZ,SAAS;MACfe,OAAO,EAAET,GAAG,CAACF;IACf,CAAC,CAAC;EACJ,CAAC,CACD,OAAOI,GAAG,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IAClBH,QAAQ,CAAC;MACPO,IAAI,EAAEV;IACR,CAAC,CAAC;EACJ;AACF,CAAC;AAED,OAAO,MAAMmB,SAAS,GAAGA,CAACD,GAAG,EAAEE,CAAC,EAAEC,KAAK,EAAEC,IAAI,EAAEC,OAAO,KAAK,MAAMpB,QAAQ,IAAI;EAC3E,MAAMqB,IAAI,GAAG;IAAEN,GAAG;IAAEE,CAAC;IAAEC,KAAK;IAAEC,IAAI;IAAEC;EAAQ,CAAC;EAC7C,IAAI;IACF,MAAMnB,GAAG,GAAG,MAAMV,GAAG,CAACW,IAAI,CAAC,oBAAoB,EAAEmB,IAAI,CAAC;IACtD,IAAIpB,GAAG,CAACF,IAAI,EAAE;MACZC,QAAQ,CAACP,QAAQ,CAAC,8CAA8C,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;IACzF;EACF,CAAC,CACD,OAAOU,GAAG,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IAClBH,QAAQ,CAAC;MACPO,IAAI,EAAGV;IACT,CAAC,CAAC;EACJ;AACF,CAAC;AAED,OAAO,MAAMyB,SAAS,GAAGA,CAAA,KAAM,MAAMtB,QAAQ,IAAI;EAC/CA,QAAQ,CAAC;IAAEO,IAAI,EAAEX;EAAY,CAAC,CAAC;AACjC,CAAC;AAED,OAAO,MAAM2B,YAAY,GAAGA,CAACR,GAAG,EAAES,QAAQ,EAAEjB,IAAI,KAAK,MAAMP,QAAQ,IAAI;EACrE,MAAMqB,IAAI,GAAG;IAAEN,GAAG;IAAES,QAAQ;IAAEjB;EAAK,CAAC;EACpC,IAAI;IACF,MAAMN,GAAG,GAAG,MAAMV,GAAG,CAACW,IAAI,CAAC,oBAAoB,EAAEmB,IAAI,CAAC;IACtD,IAAIpB,GAAG,CAACF,IAAI,CAAC0B,GAAG,KAAK,MAAM,EAAE;MAC3BzB,QAAQ,CAAC;QACPO,IAAI,EAAEX;MACR,CAAC,CAAC;MACFI,QAAQ,CAACc,UAAU,CAACC,GAAG,CAAC,CAAC;IAC3B;EACF,CAAC,CACD,OAAOZ,GAAG,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IAClBH,QAAQ,CAAC;MACPO,IAAI,EAAEV;IACR,CAAC,CAAC;EACJ;AACF,CAAC;AAED,OAAO,MAAM6B,YAAY,GAAGA,CAACC,OAAO,EAAEH,QAAQ,KAAK,MAAMxB,QAAQ,IAAI;EACnE,MAAMqB,IAAI,GAAG;IAAEM,OAAO;IAAEH;EAAS,CAAC;EAClC,IAAI;IACF,MAAMvB,GAAG,GAAG,MAAMV,GAAG,CAACW,IAAI,CAAC,oBAAoB,EAAEmB,IAAI,CAAC;IACtD,IAAIpB,GAAG,CAACF,IAAI,CAAC0B,GAAG,KAAK,MAAM,EAAE;MAC3BzB,QAAQ,CAACQ,YAAY,CAAC,CAAC,CAAC;IAC1B;EACF,CAAC,CACD,OAAOL,GAAG,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IAClBH,QAAQ,CAAC;MACPO,IAAI,EAAEV;IACR,CAAC,CAAC;EACJ;AACF,CAAC"},"metadata":{},"sourceType":"module"}